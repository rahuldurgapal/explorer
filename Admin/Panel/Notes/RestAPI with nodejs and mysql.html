<div class="notes_block">
    <h1 tabindex="-1" id="user-content-building-a-restful-api-with-nodejs-and-mysql" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#building-a-restful-api-with-nodejs-and-mysql">Building a RESTful API with Node.js and MySQL<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h1><p dir="auto">In our previous blog post, we explored creating CRUD operations for student data using <code>Node.js</code>, <code>Express.js</code>, and <code>JSON</code>.
 However, we encountered a major drawback â€“ data was lost when the 
server closed. Today, we're introducing MySQL, a relational database 
management system, to store data securely.</p>
<p dir="auto">Let's dive into the world of databases and create a resilient RESTful API using <code>Node.js</code>, unlocking the full potential of web development.</p>
<h2 tabindex="-1" id="user-content-table-of-contents" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#table-of-contents">Table of Contents<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h2><ol dir="auto"><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#prerequisites">Prerequisites</a></li><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#step-1-initialize-the-project">Step 1: Initialize the Project</a></li><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#step-2-set-up-the-database">Step 2: Set Up the Database</a></li><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#step-3-create-api-endpoints">Step 3: Create API Endpoints</a>
<ul dir="auto"><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#get-all-students">Get All Students</a></li><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#get-a-student-by-id">Get a Student by ID</a></li><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#add-a-student">Add a Student</a></li><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#update-a-student">Update a Student</a>
<ul dir="auto"><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#full-update">Full Update</a></li><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#partial-update">Partial Update</a>
-<a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#delete-a-student">Delete a Student</a></li></ul>
</li></ul>
</li><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#step-4-start-the-server">Step 4: Start the Server</a></li><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#step-5-test-your-api">Step 5: Test Your API</a></li><li><a href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#conclusion">Conclusion</a></li></ol>
<h2 tabindex="-1" id="user-content-prerequisites" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#prerequisites">Prerequisites<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h2><br><p dir="auto">Before you begin, make sure you have the following installed on your system:</p>
<ul dir="auto"><li>Node.js/Express.js</li><li>MySQL Server (e.g., MariaDB)</li><li>A code editor (e.g., Visual Studio Code)</li></ul><h2 tabindex="-1" id="user-content-step-1-initialize-the-project" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#step-1-initialize-the-project">Step 1: Initialize the Project<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h2><div><article class="markdown-body entry-content container-lg" itemprop="text"><li>
<p dir="auto">Create a new directory for your project.</p>
</li>
<li>
<p dir="auto">Open a terminal and navigate to the project directory.</p>
</li>
<li>
<p dir="auto">Run <code>npm init</code> to initialize your Node.js project and follow the prompts to create a <code>package.json</code> file.</p>
</li>
<li>
<p dir="auto">Install the necessary packages:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>mkdir crud-MySQL
<span class="pl-c1">cd</span> crud-MySQL
npm init -y
npm i express mysql</pre><div class="zeroclipboard-container">
    </div></div></li><ol dir="auto"><li value="5">
<p dir="auto">Create a database and table where data which we store
<a target="_blank" rel="noopener noreferrer" href="https://github.com/mearjuntripathi/nodejs/blob/main/crud-MySQL/image/mysql.png"><img src="https://github.com/mearjuntripathi/nodejs/raw/main/crud-MySQL/image/mysql.png" alt="" style="max-width: 100%;"></a></p>
</li></ol>
<p dir="auto">All done in inilization</p></article></div><h2 tabindex="-1" id="user-content-step-2-set-up-the-database" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#step-2-set-up-the-database">Step 2: Set Up the Database<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h2><ol dir="auto"><li>Create a MySQL database named <code>test</code>.</li><li>Inside your project directory, create a JavaScript file (e.g., <code>app.js</code>) and require the necessary modules:</li></ol>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">import</span> <span class="pl-s1">express</span> <span class="pl-k">from</span> <span class="pl-s">'express'</span><span class="pl-kos">;</span>
<span class="pl-k">import</span> <span class="pl-s1">mysql</span> <span class="pl-k">from</span> <span class="pl-s">'mysql'</span><span class="pl-kos">;</span></pre><div class="zeroclipboard-container">
    </div></div><ol start="3" dir="auto"><li>Create an instance of the Express application and configure it to parse JSON and URL-encoded data:</li></ol>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">const</span> <span class="pl-s1">app</span> <span class="pl-c1">=</span> <span class="pl-en">express</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-s1">app</span><span class="pl-kos">.</span><span class="pl-en">use</span><span class="pl-kos">(</span><span class="pl-s1">express</span><span class="pl-kos">.</span><span class="pl-en">urlencoded</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">extended</span>: <span class="pl-c1">true</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-s1">app</span><span class="pl-kos">.</span><span class="pl-en">use</span><span class="pl-kos">(</span><span class="pl-s1">express</span><span class="pl-kos">.</span><span class="pl-en">json</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre><div class="zeroclipboard-container">
    </div></div><ol start="4" dir="auto"><li>Define the MySQL connection parameters and establish a connection:</li></ol>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">const</span> <span class="pl-s1">con</span> <span class="pl-c1">=</span> <span class="pl-s1">mysql</span><span class="pl-kos">.</span><span class="pl-en">createConnection</span><span class="pl-kos">(</span><span class="pl-kos">{</span>
    <span class="pl-c1">host</span>: <span class="pl-s">"localhost"</span><span class="pl-kos">,</span>
    <span class="pl-c1">user</span>: <span class="pl-s">"root"</span><span class="pl-kos">,</span>
    <span class="pl-c1">password</span>: <span class="pl-s">""</span><span class="pl-kos">,</span>
    <span class="pl-c1">database</span>: <span class="pl-s">"test"</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>

<span class="pl-s1">con</span><span class="pl-kos">.</span><span class="pl-en">connect</span><span class="pl-kos">(</span><span class="pl-s1">err</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-s1">err</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">error</span><span class="pl-kos">(</span><span class="pl-s">"Database Connection Error:"</span><span class="pl-kos">,</span> <span class="pl-s1">err</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span> <span class="pl-k">else</span> <span class="pl-kos">{</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s">'Successfully connected to the database'</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre><div class="zeroclipboard-container">
    </div></div><h2 tabindex="-1" id="user-content-step-3-create-api-endpoints" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#step-3-create-api-endpoints">Step 3: Create API Endpoints<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h2><p dir="auto">Now, let's define the API endpoints for your RESTful API.</p>
<p dir="auto">Here we use query promise which use promise which help to avoide "<a href="https://en.wikipedia.org/wiki/Pyramid_of_doom_(programming)" rel="nofollow">pyramid of doom</a>"</p>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">function</span> <span class="pl-en">queryPromise</span><span class="pl-kos">(</span><span class="pl-s1">query</span><span class="pl-kos">,</span> <span class="pl-s1">value</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-v">Promise</span><span class="pl-kos">(</span><span class="pl-kos">(</span><span class="pl-s1">resolve</span><span class="pl-kos">,</span> <span class="pl-s1">reject</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
        <span class="pl-s1">con</span><span class="pl-kos">.</span><span class="pl-en">query</span><span class="pl-kos">(</span><span class="pl-s1">query</span><span class="pl-kos">,</span> <span class="pl-s1">value</span><span class="pl-kos">,</span> <span class="pl-kos">(</span><span class="pl-s1">err</span><span class="pl-kos">,</span> <span class="pl-s1">result</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
            <span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-s1">err</span><span class="pl-kos">)</span> <span class="pl-s1">reject</span><span class="pl-kos">(</span><span class="pl-s1">err</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
            <span class="pl-k">else</span> <span class="pl-s1">resolve</span><span class="pl-kos">(</span><span class="pl-s1">result</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-kos">}</span><span class="pl-kos">)</span>
    <span class="pl-kos">}</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span></pre><div class="zeroclipboard-container">
    </div></div><h3 tabindex="-1" id="user-content-get-all-students" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#get-all-students">Get All Students<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h3><ul dir="auto"><li>Endpoint: <code>/students</code></li><li>Method: GET</li><li>Description: Retrieves a list of all student records from database.</li></ul>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">app</span><span class="pl-kos">.</span><span class="pl-en">get</span><span class="pl-kos">(</span><span class="pl-s">"/students/"</span><span class="pl-kos">,</span> <span class="pl-k">async</span> <span class="pl-kos">(</span><span class="pl-s1">req</span><span class="pl-kos">,</span> <span class="pl-s1">res</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-k">try</span> <span class="pl-kos">{</span>
        <span class="pl-k">const</span> <span class="pl-s1">query</span> <span class="pl-c1">=</span> <span class="pl-s">"SELECT * FROM students"</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">result</span> <span class="pl-c1">=</span> <span class="pl-k">await</span> <span class="pl-en">queryPromise</span><span class="pl-kos">(</span><span class="pl-s1">query</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">200</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">send</span><span class="pl-kos">(</span><span class="pl-s1">result</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span> <span class="pl-k">catch</span> <span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">error</span><span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">500</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">json</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">message</span>: <span class="pl-s">"Some issue occurred"</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre><div class="zeroclipboard-container">
    </div></div><h3 tabindex="-1" id="user-content-get-a-student-by-id" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#get-a-student-by-id">Get a Student by ID<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h3><ul dir="auto"><li>Endpoint: <code>/students/:id</code></li><li>Method: GET</li><li>Description: Retrieves a single student record by providing the <code>id</code> parameter in db table.</li></ul>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">app</span><span class="pl-kos">.</span><span class="pl-en">get</span><span class="pl-kos">(</span><span class="pl-s">'/students/:id'</span><span class="pl-kos">,</span> <span class="pl-k">async</span> <span class="pl-kos">(</span><span class="pl-s1">req</span><span class="pl-kos">,</span> <span class="pl-s1">res</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-k">try</span> <span class="pl-kos">{</span>
        <span class="pl-k">const</span> <span class="pl-s1">id</span> <span class="pl-c1">=</span> <span class="pl-s1">req</span><span class="pl-kos">.</span><span class="pl-c1">params</span><span class="pl-kos">.</span><span class="pl-c1">id</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">query</span> <span class="pl-c1">=</span> <span class="pl-s">"SELECT * FROM students WHERE id = ?"</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">result</span> <span class="pl-c1">=</span> <span class="pl-k">await</span> <span class="pl-en">queryPromise</span><span class="pl-kos">(</span><span class="pl-s1">query</span><span class="pl-kos">,</span> <span class="pl-s1">id</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">200</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">send</span><span class="pl-kos">(</span><span class="pl-s1">result</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span> <span class="pl-k">catch</span> <span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">error</span><span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">500</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">json</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">message</span>: <span class="pl-s">"Some issue occurred"</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre><div class="zeroclipboard-container">
    </div></div><h3 tabindex="-1" id="user-content-add-a-student" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#add-a-student">Add a Student<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h3><ul dir="auto"><li>Endpoint: <code>/students</code></li><li>Method: POST</li><li>Description: Adds a new student record to the db table.</li></ul>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">app</span><span class="pl-kos">.</span><span class="pl-en">post</span><span class="pl-kos">(</span><span class="pl-s">'/students'</span><span class="pl-kos">,</span> <span class="pl-k">async</span> <span class="pl-kos">(</span><span class="pl-s1">req</span><span class="pl-kos">,</span> <span class="pl-s1">res</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-k">try</span> <span class="pl-kos">{</span>
        <span class="pl-k">const</span> <span class="pl-s1">value</span> <span class="pl-c1">=</span> <span class="pl-s1">req</span><span class="pl-kos">.</span><span class="pl-c1">body</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">query</span> <span class="pl-c1">=</span> <span class="pl-s">"INSERT INTO students SET ?"</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">result</span> <span class="pl-c1">=</span> <span class="pl-k">await</span> <span class="pl-en">queryPromise</span><span class="pl-kos">(</span><span class="pl-s1">query</span><span class="pl-kos">,</span> <span class="pl-s1">value</span><span class="pl-kos">)</span><span class="pl-kos">;</span>

        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">201</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">json</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">message</span>: <span class="pl-s">"Data successfully inserted"</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">result</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span> <span class="pl-k">catch</span> <span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">error</span><span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">500</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">json</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">message</span>: <span class="pl-s">"Some issue occurred"</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre><div class="zeroclipboard-container">
    </div></div><h3 tabindex="-1" id="user-content-update-a-student" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#update-a-student">Update a Student<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h3><h4 tabindex="-1" id="user-content-full-update" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#full-update">Full Update<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h4><ul dir="auto"><li>Endpoint: <code>/students/:id</code></li><li>Method: PUT</li><li>Description: Updates an existing student from table by providing the <code>id</code> parameter.</li></ul>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">app</span><span class="pl-kos">.</span><span class="pl-en">put</span><span class="pl-kos">(</span><span class="pl-s">'/students/:id'</span><span class="pl-kos">,</span> <span class="pl-k">async</span> <span class="pl-kos">(</span><span class="pl-s1">req</span><span class="pl-kos">,</span> <span class="pl-s1">res</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-k">try</span> <span class="pl-kos">{</span>
        <span class="pl-k">let</span> <span class="pl-s1">id</span> <span class="pl-c1">=</span> <span class="pl-s1">req</span><span class="pl-kos">.</span><span class="pl-c1">params</span><span class="pl-kos">.</span><span class="pl-c1">id</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">value</span> <span class="pl-c1">=</span> <span class="pl-s1">req</span><span class="pl-kos">.</span><span class="pl-c1">body</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">query</span> <span class="pl-c1">=</span> <span class="pl-s">"UPDATE students SET ? WHERE id = ?"</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">result</span> <span class="pl-c1">=</span> <span class="pl-k">await</span> <span class="pl-en">queryPromise</span><span class="pl-kos">(</span><span class="pl-s1">query</span><span class="pl-kos">,</span> <span class="pl-kos">[</span><span class="pl-s1">value</span><span class="pl-kos">,</span> <span class="pl-s1">id</span><span class="pl-kos">]</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">202</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">json</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">message</span>: <span class="pl-s">"Data updated successfully"</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">result</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span> <span class="pl-k">catch</span> <span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">error</span><span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">500</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">json</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">message</span>: <span class="pl-s">"Some issue occurred"</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre><div class="zeroclipboard-container">
    </div></div><h4 tabindex="-1" id="user-content-partial-update" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#partial-update">Partial Update<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h4><ul dir="auto"><li>Endpoint: <code>/students/:id</code></li><li>Method: PATCH</li><li>Description: Partially updates an existing student from table by providing the <code>id</code> parameter. You can update one or more fields individually.</li></ul>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">app</span><span class="pl-kos">.</span><span class="pl-en">patch</span><span class="pl-kos">(</span><span class="pl-s">'/students/:id'</span><span class="pl-kos">,</span> <span class="pl-k">async</span> <span class="pl-kos">(</span><span class="pl-s1">req</span><span class="pl-kos">,</span> <span class="pl-s1">res</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-k">try</span> <span class="pl-kos">{</span>
        <span class="pl-k">const</span> <span class="pl-s1">id</span> <span class="pl-c1">=</span> <span class="pl-s1">req</span><span class="pl-kos">.</span><span class="pl-c1">params</span><span class="pl-kos">.</span><span class="pl-c1">id</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">value</span> <span class="pl-c1">=</span> <span class="pl-s1">req</span><span class="pl-kos">.</span><span class="pl-c1">body</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">query</span> <span class="pl-c1">=</span> <span class="pl-s">"UPDATE students SET ? WHERE id = ?"</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">result</span> <span class="pl-c1">=</span> <span class="pl-k">await</span> <span class="pl-en">queryPromise</span><span class="pl-kos">(</span><span class="pl-s1">query</span><span class="pl-kos">,</span> <span class="pl-kos">[</span><span class="pl-s1">value</span><span class="pl-kos">,</span> <span class="pl-s1">id</span><span class="pl-kos">]</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">202</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">json</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">message</span>: <span class="pl-s">"Data updated successfully"</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">result</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span> <span class="pl-k">catch</span> <span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">error</span><span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">500</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">json</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">message</span>: <span class="pl-s">"Some issue occurred"</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre><div class="zeroclipboard-container">
    </div></div><h3 tabindex="-1" id="user-content-delete-a-student" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#delete-a-student">Delete a Student<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h3><ul dir="auto"><li>Endpoint: <code>/students/:id</code></li><li>Method: DELETE</li><li>Description: Deletes an existing student from table by providing the <code>id</code> parameter.</li></ul>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">app</span><span class="pl-kos">.</span><span class="pl-en">delete</span><span class="pl-kos">(</span><span class="pl-s">'/students/:id'</span><span class="pl-kos">,</span> <span class="pl-k">async</span> <span class="pl-kos">(</span><span class="pl-s1">req</span><span class="pl-kos">,</span> <span class="pl-s1">res</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-k">try</span> <span class="pl-kos">{</span>
        <span class="pl-k">const</span> <span class="pl-s1">id</span> <span class="pl-c1">=</span> <span class="pl-s1">req</span><span class="pl-kos">.</span><span class="pl-c1">params</span><span class="pl-kos">.</span><span class="pl-c1">id</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">query</span> <span class="pl-c1">=</span> <span class="pl-s">"DELETE FROM students WHERE id = ?"</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">result</span> <span class="pl-c1">=</span> <span class="pl-k">await</span> <span class="pl-en">queryPromise</span><span class="pl-kos">(</span><span class="pl-s1">query</span><span class="pl-kos">,</span> <span class="pl-s1">id</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">200</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">json</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">message</span>: <span class="pl-s">"Data deleted successfully"</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span> <span class="pl-k">catch</span> <span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">error</span><span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">res</span><span class="pl-kos">.</span><span class="pl-en">status</span><span class="pl-kos">(</span><span class="pl-c1">500</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">json</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">message</span>: <span class="pl-s">"Some issue occurred"</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre><div class="zeroclipboard-container">
    </div></div><h2 tabindex="-1" id="user-content-step-4-start-the-server" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#step-4-start-the-server">Step 4: Start the Server<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h2><p dir="auto">Finally, start the server and listen on a port (e.g., 3000):</p>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">const</span> <span class="pl-s1">port</span> <span class="pl-c1">=</span> <span class="pl-s1">process</span><span class="pl-kos">.</span><span class="pl-c1">env</span><span class="pl-kos">.</span><span class="pl-c1">PORT</span> <span class="pl-c1">||</span> <span class="pl-c1">3000</span><span class="pl-kos">;</span>
<span class="pl-s1">app</span><span class="pl-kos">.</span><span class="pl-en">listen</span><span class="pl-kos">(</span><span class="pl-s1">port</span><span class="pl-kos">,</span> <span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s">`Server started on http://localhost:<span class="pl-s1"><span class="pl-kos">${</span><span class="pl-s1">port</span><span class="pl-kos">}</span></span>`</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre><div class="zeroclipboard-container">
    </div></div><h2 tabindex="-1" id="user-content-step-5-test-your-api" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#step-5-test-your-api">Step 5: Test Your API<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h2><p dir="auto">It's
 crucial to thoroughly test your RESTful API to ensure that it functions
 as expected. You can use tools like Postman or cURL to make HTTP 
requests to the defined endpoints and verify their behavior. Here's how 
you can test each HTTP request type:</p>
<ol dir="auto"><li>
<p dir="auto"><strong>GET Request</strong></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/mearjuntripathi/nodejs/blob/main/crud-MySQL/image/get.png"><img src="https://github.com/mearjuntripathi/nodejs/raw/main/crud-MySQL/image/get.png" alt="GET Request" style="max-width: 100%;"></a></p>
<ul dir="auto"><li><strong>Description</strong>: Perform a GET request to retrieve data from your API.</li><li><strong>Expected Result</strong>: Since there's no data in the 
initial state, the response should be empty. Ensure that the API 
responds with the correct HTTP status code (usually 200 OK for a 
successful GET request).</li></ul>
</li><li>
<p dir="auto"><strong>POST Request</strong></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/mearjuntripathi/nodejs/blob/main/crud-MySQL/image/post1.png"><img src="https://github.com/mearjuntripathi/nodejs/raw/main/crud-MySQL/image/post1.png" alt="POST Request" style="max-width: 100%;"></a> Insert element 1
<a target="_blank" rel="noopener noreferrer" href="https://github.com/mearjuntripathi/nodejs/blob/main/crud-MySQL/image/post2.png"><img src="https://github.com/mearjuntripathi/nodejs/raw/main/crud-MySQL/image/post2.png" alt="POST Request" style="max-width: 100%;"></a> Insert element 2
<a target="_blank" rel="noopener noreferrer" href="https://github.com/mearjuntripathi/nodejs/blob/main/crud-MySQL/image/post3.png"><img src="https://github.com/mearjuntripathi/nodejs/raw/main/crud-MySQL/image/post3.png" alt="POST Request" style="max-width: 100%;"></a> Insert element 3</p>
<ul dir="auto"><li><strong>Description</strong>: Execute a POST request to add new elements to your database.</li><li><strong>Expected Result</strong>: The API should accept the POST 
request, insert the specified data into the database, and respond with a
 success message or a unique identifier for the newly created resource. 
Check that the data has been added to your database.</li></ul>
</li><li>
<p dir="auto"><strong>PUT Request</strong></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/mearjuntripathi/nodejs/blob/main/crud-MySQL/image/put.png"><img src="https://github.com/mearjuntripathi/nodejs/raw/main/crud-MySQL/image/put.png" alt="PUT Request" style="max-width: 100%;"></a></p>
<p dir="auto">To check the update, use a <strong>GET Request with a single user</strong>:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/mearjuntripathi/nodejs/blob/main/crud-MySQL/image/put-get.png"><img src="https://github.com/mearjuntripathi/nodejs/raw/main/crud-MySQL/image/put-get.png" alt="GET Request with Single User" style="max-width: 100%;"></a></p>
<ul dir="auto"><li><strong>Description</strong>: Use a PUT request to update existing data in your database.</li><li><strong>Expected Result</strong>: The API should allow updates to 
the specified resource, and when you subsequently make a GET request for
 the updated resource, it should return the modified data. Confirm that 
the resource was successfully updated.</li></ul>
</li><li>
<p dir="auto"><strong>PATCH Request</strong></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/mearjuntripathi/nodejs/blob/main/crud-MySQL/image/patch.png"><img src="https://github.com/mearjuntripathi/nodejs/raw/main/crud-MySQL/image/patch.png" alt="PATCH Request" style="max-width: 100%;"></a></p>
<p dir="auto">For verification, use a <strong>GET Request with a single user</strong>:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/mearjuntripathi/nodejs/blob/main/crud-MySQL/image/patch-get.png"><img src="https://github.com/mearjuntripathi/nodejs/raw/main/crud-MySQL/image/patch-get.png" alt="GET Request with Single User" style="max-width: 100%;"></a></p>
<ul dir="auto"><li><strong>Description</strong>: Send a PATCH request to partially modify an existing resource.</li><li><strong>Expected Result</strong>: The API should apply the specified
 changes to the resource and respond with a success message. When you 
subsequently make a GET request for the resource, it should return the 
modified data. Ensure that the partial update was successful.</li></ul>
</li><li>
<p dir="auto"><strong>DELETE Request</strong></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/mearjuntripathi/nodejs/blob/main/crud-MySQL/image/delete.png"><img src="https://github.com/mearjuntripathi/nodejs/raw/main/crud-MySQL/image/delete.png" alt="DELETE Request" style="max-width: 100%;"></a></p>
<p dir="auto">To retrieve all data, send a <strong>GET Request</strong>:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/mearjuntripathi/nodejs/blob/main/crud-MySQL/image/delete-get.png"><img src="https://github.com/mearjuntripathi/nodejs/raw/main/crud-MySQL/image/delete-get.png" alt="GET All Data" style="max-width: 100%;"></a></p>
<ul dir="auto"><li><strong>Description</strong>: Issue a DELETE request to remove a resource from the database.</li><li><strong>Expected Result</strong>: The API should delete the 
specified resource and return a success message. When you make a 
subsequent GET request for all data, the deleted resource should no 
longer be present.</li></ul>
</li></ol>
<p dir="auto">By conducting these tests, you can ensure that your 
RESTful API functions correctly and meets the requirements of your 
application. It's essential to verify that your API handles various HTTP
 methods and responds appropriately to different requests.</p>
<p dir="auto">That's it! You've successfully created and tested a 
RESTful API using MySQL and Node.js. You can further enhance your API by
 implementing features like authentication, data validation, error 
handling, and more to meet the specific needs of your project.</p>
<h2 tabindex="-1" id="user-content-conclusion" dir="auto"><a class="heading-link" href="https://github.com/mearjuntripathi/nodejs/tree/main/crud-MySQL#conclusion">Conclusion<svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"></svg></a></h2><div class="Box-sc-g0xbh4-0 faROye"><div id="readme" class="Box-sc-g0xbh4-0 eOiqoB"><div class="Box-sc-g0xbh4-0 bJMeLZ js-snippet-clipboard-copy-unpositioned" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><p dir="auto">In
 conclusion, this documentation has outlined the process of creating a 
RESTful API using MySQL and Node.js. We've covered setting up the 
environment, establishing a database connection, defining API endpoints,
 and using query promises to handle asynchronous database queries. This 
approach enhances code organization and readability, making it easier to
 manage asynchronous operations in your API. You can further extend this
 foundation to build more complex and robust applications.</p>
</article></div></div></div><div class="repo-file-upload-tree-target js-document-dropzone js-upload-manifest-tree-view" data-testid="dragzone" data-drop-url="/mearjuntripathi/nodejs/upload/main/crud-MySQL"><div class="repo-file-upload-outline"><div class="repo-file-upload-slate"><div class="Box-sc-g0xbh4-0 ctzOSe"></div></div></div></div><h2 aria-hidden="true"></h2>
</div>